<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>вдгви░ - <span th:text="${store.storeName}">Ж░ђЖ▓ївфЁ</span></title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/review-list.css}">
</head>
<body>
    <div class="main-container">
        <!-- ВЃЂвІе вёцв╣ёЖ▓їВЮ┤ВЁў -->
        <div class="top-nav">
            <div class="nav-content">
                <button class="back-btn" th:onclick="'location.href=\'/api/store/' + ${store.storeId} + '\''">Рєљ</button>
                <div class="page-title" th:text="'вдгви░ - ' + ${store.storeName}">вдгви░</div>
                <div class="cart-icon">
                    ­ЪЏњ
                    <span class="cart-badge" th:text="${cartItemCount}">3</span>
                </div>
            </div>
        </div>

        <!-- вдгви░ ВџћВЋй -->
        <div class="review-summary">
            <div class="rating-overview">
                <div class="average-rating" th:text="${reviewStats.averageRating}">4.9</div>
                <div class="stars">РўЁРўЁРўЁРўЁРўЁ</div>
                <div class="rating-breakdown">
                    <div class="rating-bar">
                        <span class="rating-label">5Ваљ</span>
                        <div class="rating-progress">
                            <div class="rating-fill" style="width: 94%;"></div>
                        </div>
                        <span class="rating-count" th:text="${reviewStats.fiveStarCount}">1,324</span>
                    </div>
                    <div class="rating-bar">
                        <span class="rating-label">4Ваљ</span>
                        <div class="rating-progress">
                            <div class="rating-fill" style="width: 3%;"></div>
                        </div>
                        <span class="rating-count" th:text="${reviewStats.fourStarCount}">36</span>
                    </div>
                    <div class="rating-bar">
                        <span class="rating-label">3Ваљ</span>
                        <div class="rating-progress">
                            <div class="rating-fill" style="width: 2%;"></div>
                        </div>
                        <span class="rating-count" th:text="${reviewStats.threeStarCount}">25</span>
                    </div>
                    <div class="rating-bar">
                        <span class="rating-label">2Ваљ</span>
                        <div class="rating-progress">
                            <div class="rating-fill" style="width: 1%;"></div>
                        </div>
                        <span class="rating-count" th:text="${reviewStats.twoStarCount}">8</span>
                    </div>
                    <div class="rating-bar">
                        <span class="rating-label">1Ваљ</span>
                        <div class="rating-progress">
                            <div class="rating-fill" style="width: 1%;"></div>
                        </div>
                        <span class="rating-count" th:text="${reviewStats.oneStarCount}">15</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ВѓгВъЦвІў Ж│хВДђ -->
        <div class="owner-notice">
            <div class="notice-header">
                <div class="notice-title">ВѓгВъЦвІў Ж│хВДђ</div>
                <div class="notice-date">2024вЁё 06ВЏћ 13ВЮ╝</div>
            </div>
            <div class="notice-content">
                <div class="notice-item">
                    <span class="notice-icon">РЮц№ИЈ</span>
                    <span>ВѓгВДёвдгви░ ВЮ┤в▓цьіИ В░ИВЌгв░Ев▓Ћ</span>
                </div>
                <div class="notice-item">
                    <span class="notice-icon">РюЁ</span>
                    <span>Вќ┤ьћїЖ▓░Ваю.ьЏёвХѕЖ▓░Ваю вфевЉљ вдгви░ ВъЉВё▒ok~~</span>
                </div>
                <div class="notice-item">
                    <span class="notice-icon">РюЁ</span>
                    <span>ВЃЂвІеВЌљ РЮц№ИЈ вѕёвЦ┤ЖИ░</span>
                </div>
            </div>
            <div class="text-end">
                <button class="policy-btn">вфевЊа вдгви░віћ Ж▓ђьєа ьЏё в│┤ВЌгвЊювацВџћ X</button>
            </div>
        </div>

        <!-- вдгви░ вфЕвАЮ ьЌцвЇћ -->
        <div class="review-header">
            <div class="review-count">
                ВхюЖи╝ вдгви░ <span th:text="${reviewStats.totalReviews}">1,408</span>Ж░ю
            </div>
            <div class="owner-comment-count">
                ВѓгВъЦвІўвїЊЖИђ <span th:text="${reviewStats.ownerComments}">1,403</span>Ж░ю
            </div>
            <div class="review-filters">
                <button class="filter-btn">
                    РєЋ№ИЈ ВХћВ▓юВѕю Рќ╝
                </button>
                <button class="filter-btn">
                    ­ЪЊи ВѓгВДё вдгви░вДї в│┤ЖИ░
                </button>
            </div>
            <div class="text-end">
                <a href="#" class="policy-link">
                    ­Ъцќ вдгви░ вЁИВХю ВаЋВ▒Ё >
                </a>
            </div>
        </div>

        <!-- вдгви░ вфЕвАЮ -->
        <div class="review-list">
            <div class="review-item" th:each="review : ${reviews}">
                <div class="review-header-info">
                    <div class="user-avatar">­ЪЉц</div>
                    <div class="user-info">
                        <div class="user-name" th:text="${review.userName}">ьё░ьћёЖ░ђВЮ┤</div>
                        <div class="user-stats">
                            вдгви░ <span th:text="${review.userReviewCount}">158</span>сєЇьЈЅЖиав│ёВаљ <span th:text="${review.userAverageRating}">5.0</span>
                        </div>
                    </div>
                </div>
                
                <div class="review-rating">
                    <div class="review-stars">
                        <span th:each="i : ${#numbers.sequence(1, review.rating)}">РўЁ</span>
                        <span th:each="i : ${#numbers.sequence(review.rating + 1, 5)}">Рўє</span>
                    </div>
                    <div class="order-info" th:text="${review.orderDate}">ВДђвѓю ВБ╝, Ж░ђЖ▓їв░░вІг</div>
                    <a href="#" class="report-btn">ВІаЖ│аьЋўЖИ░</a>
                </div>
                
                <div class="review-content" th:text="${review.content}">
                    вдгви░ вѓ┤ВџЕ
                </div>
                
                <div class="review-images" th:if="${review.hasImages}">
                    <img th:each="image : ${review.images}" 
                         th:src="@{/images/restaurant1.jpg}" 
                         class="review-image" 
                         alt="вдгви░ ВЮ┤в»ИВДђ">
                </div>
            </div>
            
            <!-- вдгви░Ж░ђ ВЌєВЮё вЋї -->
            <div th:if="${#lists.isEmpty(reviews)}" class="empty-reviews">
                <div class="empty-message">
                    <span class="emoji">­ЪЊЮ</span>
                    <div class="message">ВЋёВДЂ вдгви░Ж░ђ ВЌєВіхвІѕвІц</div>
                    <div class="sub-message">В▓Ф в▓ѕВДИ вдгви░вЦ╝ ВъЉВё▒ьЋ┤в│┤ВёИВџћ!</div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html> 