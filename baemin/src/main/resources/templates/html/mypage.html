<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이배민</title>
    <link rel="stylesheet" href="/css/mypage.css">
</head>
<body>
<div class="baemin-page">
    <header class="appbar">
        <h1 class="appbar-title">마이배민</h1>
    </header>

    <main class="content">
        <section class="view active">
            <!-- 프로필 카드: 내 정보 수정으로 이동 -->
            <div class="card profile-card" role="button" onclick="window.location.href='/api/mypage/profile'">
                <div class="avatar">
                    <img th:src="${(user?.profileImageUrl) ?: 'https://via.placeholder.com/64x64/EEE/888?text=👤'}"
                         alt="프로필 이미지">
                </div>
                <div class="profile-texts">
                    <div class="nickname-row">
                        <span class="nickname" th:text="${#strings.isEmpty(user?.nickname) ? '닉네임' : user.nickname}">닉네임</span>
                        <span class="chevron">›</span>
                    </div>
                    <div class="sub-actions">
                        <button class="text-btn" onclick="event.stopPropagation(); window.location.href='/api/mypage/reviews'">리뷰관리</button>
                        <span class="dot">·</span>
                        <button class="text-btn" onclick="event.stopPropagation(); window.location.href='/api/mypage/address'">주소관리</button>
                    </div>
                </div>
            </div>

            <!-- 클럽/혜택 카드 (더미 콘텐츠) -->
            <div class="card benefit-card">
                <div class="benefit-badge">배민클럽</div>
                <div class="benefit-title">무제한 <b>무료배달</b> 혜택을 받고 있어요</div>
                <div class="benefit-sub">이번 주 장보기 · 쇼핑 혜택 · B마트 10% 쿠폰</div>
                <button class="chip">혜택 이용 중</button>
            </div>

            <!-- 스탬프/포인트 섹션 (더미) -->
            <div class="card stamp-card">
                <div class="stamp-title">스탬프 찍고 <b>100% 혜택</b> 받기</div>
                <button class="link-btn">이번 달 배민 스탬프 찍기</button>
                <div class="stamp-actions">
                    <button class="outline-btn">혜택 모아보기</button>
                    <button class="outline-btn">배민포인트 모으기</button>
                </div>
            </div>

            <!-- 광고/배너 (더미) -->
            <div class="banner">
                <div class="banner-text">
                    <div class="banner-eyebrow">LG 식기세척기 특별 혜택</div>
                    <div class="banner-title">LG DIOS 식기세척기로 설거지를 끝자</div>
                    <button class="banner-btn">혜택보기</button>
                </div>
            </div>

            <!-- 요약 카드 -->
            <div class="summary">
                <a class="summary-item" href="#">
                    <div class="summary-icon">％</div>
                    <div class="summary-value"
                         th:text="${user != null && user.couponCount != null ? user.couponCount + '장' : '0장'}">0장
                    </div>
                    <div class="summary-label">쿠폰함</div>
                </a>
                <a class="summary-item" href="#">
                    <div class="summary-icon">Ⓟ</div>
                    <div class="summary-value" th:text="${user != null && user.point != null ? user.point + '원' : '0원'}">0원</div>
                    <div class="summary-label">포인트</div>
                </a>
                <a class="summary-item" href="#">
                    <div class="summary-icon">🎁</div>
                    <div class="summary-value">0원</div>
                    <div class="summary-label">받은 선물</div>
                </a>
            </div>
        </section>
    </main>

    <nav class="bottombar">
        <a class="bottom-item" href="/api/main">
            <span>🏠</span>
            <span>홈</span>
        </a>
        <a class="bottom-item" href="#">
            <span>🛍️</span>
            <span>장보기·쇼핑</span>
        </a>
        <a class="bottom-item" href="#">
            <span>❤</span>
            <span>찜</span>
        </a>
        <a class="bottom-item" href="#">
            <span>🧾</span>
            <span>주문내역</span>
        </a>
        <a class="bottom-item active" href="/api/mypage/address">
            <span>🙂</span>
            <span>마이배민</span>
        </a>
    </nav>
</div>
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const hash = location.hash.replace('#/', '');
    if (hash === 'profile') location.replace('/api/mypage/profile');
    else if (hash === 'reviews') location.replace('/api/mypage/reviews');
    else if (hash === 'address') location.replace('/api/mypage/address');
  });
</script>
</body>
</html>
